hcmkind: TopologyTemplate
hcmapiversion: hcm.io/v1alpha1
metadata:
  name: service1template_toronto
---
kind: ApplicationService
apiversion: hcm.io/v1alpha1
scope: 
  clusters: ["myminikube"]
metadata:
  name: "player2"
  description: Service2 instance
  labels: 
  properties: 
    type: template
    runtime: kubernetes
    moveable: true
    discoverable: false
    registries:
      - name: consul
        service: consul 
    connections:
      - name: http
        port: 31112
        protocol: http 
relationships:
  - name: deploymentModel
    metadata:
      targetname: service1
      targetkind: HelmChart
      type: deployUsing
      properties: 
        valuesfile: values-service1-0.0.1-bxrcluster.yaml
---
kind: HelmChart
apiversion: hcm.io/v1alpha1
scope: 
metadata:
  name: redis
  description: Descriptor for redis helmchart
  labels: 
  properties: 
    type: instance
    runtime: kubernetes
    helminfo:
      - name: redis
        namespace: default
        version: 1.1.13
        repos: 
          - name: default
            type: github
            url: https://github.com/bluemix2020/charts_repo/raw/master/
relationships:
---
kind: ServiceRegistry
apiversion: hcm.io/v1alpha1
scope:
  clusters: ["myminikube"]
metadata:
  name: "consul"
  description: Instance descriptor for consulinstance
  labels: 
  properties: 
    type: instance
    runtime: kubernetes
    connections:
      - name: http
        port: 8500
        address: 9.21.51.52
        protocol: http 
---
kind: ApplicationService
apiversion: hcm.io/v1alpha1
scope: 
  clusters: ["crucial-owl"]
metadata:
  name: "player1"
  description: Service1 Template
  labels: 
  properties: 
    type: template
    runtime: kubernetes
    moveable: true
    discoverable: false 
    connections:
      - name: http
        port: 32111
        address: 9.21.51.52
        protocol: http 
relationships:
  - name: deploymentModel
    metadata:
      targetname: redis
      targetkind: HelmChart
      type: deployUsing
      properties: 
        valuesfile: values-redis-1.1.13-bxrcluster.yaml
---
kind: HelmChart
apiversion: hcm.io/v1alpha1
scope: 
metadata:
  name: "service1"
  description: Instance descriptor for service1 helmchart
  labels: 
  properties: 
    type: instance
    runtime: kubernetes
    helminfo:
      - name: service1
        namespace: default
        version: 0.0.1
        repos: 
          - name: default
            type: github
            url: https://github.com/bluemix2020/charts_repo/raw/master/
relationships:
