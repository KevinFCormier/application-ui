/*******************************************************************************
 * Licensed Materials - Property of IBM
 * (c) Copyright IBM Corporation 2018. All Rights Reserved.
 *
 * Note to U.S. Government Users Restricted Rights:
 * Use, duplication or disclosure restricted by GSA ADP Schedule
 * Contract with IBM Corp.
 *******************************************************************************/
'use strict'

import React from 'react'
import PropTypes from 'prop-types'
import resources from '../../lib/shared/resources'
import { connect } from 'react-redux'
import { withRouter } from 'react-router-dom'
import ApplicationTopologyDiagram from '../components/application/ApplicationTopologyDiagram'
import { DetailsView } from '../components/topology/DetailsView'
import { updateTopologySelection } from '../actions/topology'

resources(() => {
  require('../../scss/application.scss')
  require('../../scss/topology-diagram.scss')
})


class ApplicationTopologyDetails extends React.Component {
  static propTypes = {
    clusters: PropTypes.array,
    links: PropTypes.array,
    nodes: PropTypes.array,
    onSelectedNodeChange: PropTypes.func,
    selectedNodeId: PropTypes.string,
    status: PropTypes.string,
  }

  handleDetailsClose = () => this.props.onSelectedNodeChange()

  render() {
    const currentNode = this.props.nodes.find((n) => n.uid === this.props.selectedNodeId) || {}
    const title = currentNode && currentNode.name
    const resourceType = currentNode.type
    const details = []
    if (currentNode){
      currentNode.type && details.push({
        type: 'label',
        labelKey: 'resource.type',
        value: currentNode.type,
      })
      currentNode.cluster && details.push({
        type: 'label',
        labelKey: 'resource.cluster',
        value: this.props.clusters.find(n => n.id === currentNode.cluster).name
      })
      currentNode.namespace && details.push({
        type: 'label',
        labelKey: 'resource.namespace',
        value: currentNode.namespace,
      })
      currentNode.topology && details.push({
        type: 'label',
        labelKey: 'resource.topology',
        value: currentNode.topology,
      })
    }

    return (
      <div className='applicationTopologyWithDetails'>
        <ApplicationTopologyDiagram
          nodes={this.props.nodes}
          links={this.props.links}
          onSelectedNodeChange={this.props.onSelectedNodeChange}
          selectedNodeId={this.props.selectedNodeId}
          status={this.props.status}
        />
        { this.props.selectedNodeId &&
          <DetailsView
            context={this.context}
            details={details}
            onClose={this.handleDetailsClose}
            resourceType={resourceType}
            title={title}
          /> }
      </div>
    )
  }
}

ApplicationTopologyDetails.contextTypes = {
  locale: PropTypes.string
}

const mapStateToProps = (state) =>{
//const { nodes = [], links = [],  selectedNodeId, status } = state.topology
  const { selectedNodeId } = state.topology


  const mockData = {
    'clusters':[
      {
        'id':'5b57cbb101ce3f001b7018f0',
        'index':0,
        'name':'myminikube'
      }
    ],
    'nodes':[
      {
        'id':'5b61ba3b25f660891cbb7ca9',
        'uid':'8dde654c-7ba1-11e8-8c39-005056a021ea',
        'name':'logstash',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7caa',
        'uid':'d391d505-7ba0-11e8-8c39-005056a021ea',
        'name':'iam-token-service',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cab',
        'uid':'8dd6d87d-7ba1-11e8-8c39-005056a021ea',
        'name':'master-discovery',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cae',
        'uid':'73ec7696-7ba0-11e8-8c39-005056a021ea',
        'name':'kube-dns',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7caf',
        'uid':'8a763535-7ba1-11e8-8c39-005056a021ea',
        'name':'monitoring-prometheus-kubestatemetrics',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cb0',
        'uid':'0d988fe1-8085-11e8-8c39-005056a021ea',
        'name':'hcmk145-topology',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cb1',
        'uid':'86b49b1a-8455-11e8-8c39-005056a021ea',
        'name':'undercooked-dragonfly-hcm-demoaccessories-instancedb',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'default',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cb2',
        'uid':'d29e3044-7ba0-11e8-8c39-005056a021ea',
        'name':'platform-auth-service',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cb3',
        'uid':'8a71f97b-7ba1-11e8-8c39-005056a021ea',
        'name':'monitoring-prometheus-elasticsearchexporter',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cb4',
        'uid':'d29ab568-7ba0-11e8-8c39-005056a021ea',
        'name':'platform-identity-management',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cb5',
        'uid':'e848c469-845c-11e8-8c39-005056a021ea',
        'name':'exiled-anteater-hcm-demoaccessories-instancedb',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'default',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cb6',
        'uid':'0d956b69-8085-11e8-8c39-005056a021ea',
        'name':'hcmk145-cassandra',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cb7',
        'uid':'d6cc1b7c-7ba0-11e8-8c39-005056a021ea',
        'name':'icp-management-ingress',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cb8',
        'uid':'73e124aa-7ba1-11e8-8c39-005056a021ea',
        'name':'platform-ui',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cba',
        'uid':'72ccc214-7ba1-11e8-8c39-005056a021ea',
        'name':'metering-dm',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cbb',
        'uid':'8dd8f33c-7ba1-11e8-8c39-005056a021ea',
        'name':'elasticsearch',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cbc',
        'uid':'8bc215e8-7ba1-11e8-8c39-005056a021ea',
        'name':'unified-router',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cbd',
        'uid':'9d65838e-7ba0-11e8-8c39-005056a021ea',
        'name':'icp-mongodb',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cbe',
        'uid':'903c9cf6-7ba1-11e8-8c39-005056a021ea',
        'name':'helm-api',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cbf',
        'uid':'d53c26fa-7ba0-11e8-8c39-005056a021ea',
        'name':'iam-pdp',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cc0',
        'uid':'70a834eb-7ba1-11e8-8c39-005056a021ea',
        'name':'heapster',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cc1',
        'uid':'8a77e390-7ba1-11e8-8c39-005056a021ea',
        'name':'monitoring-prometheus-nodeexporter',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cc2',
        'uid':'a6caee8c-7ba0-11e8-8c39-005056a021ea',
        'name':'service-catalog-apiserver',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cc3',
        'uid':'e84fcf01-845c-11e8-8c39-005056a021ea',
        'name':'exiled-anteater-hcm-demoaccessories-templatedb',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'default',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cc4',
        'uid':'8a793a69-7ba1-11e8-8c39-005056a021ea',
        'name':'monitoring-prometheus',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cc5',
        'uid':'8a6d65e7-7ba1-11e8-8c39-005056a021ea',
        'name':'monitoring-prometheus-alertmanager',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cc6',
        'uid':'f7c89aa0-7b9f-11e8-8c39-005056a021ea',
        'name':'kubernetes',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'default',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cc7',
        'uid':'8caea0ec-7ba1-11e8-8c39-005056a021ea',
        'name':'platform-api',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cc8',
        'uid':'9d6705ec-7ba0-11e8-8c39-005056a021ea',
        'name':'mongodb',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cc9',
        'uid':'8a6f5178-7ba1-11e8-8c39-005056a021ea',
        'name':'monitoring-exporter',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cca',
        'uid':'dbddbb5e-7bbc-11e8-8c39-005056a021ea',
        'name':'hcmk230-hcm-allinone-weave-scope',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7ccb',
        'uid':'dbb8841b-7bbc-11e8-8c39-005056a021ea',
        'name':'hcmk230-cassandra',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7ccc',
        'uid':'d29c6145-7ba0-11e8-8c39-005056a021ea',
        'name':'platform-identity-provider',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7ccd',
        'uid':'8ddb8fd0-7ba1-11e8-8c39-005056a021ea',
        'name':'elasticsearch-transport',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cce',
        'uid':'66a138e8-7ba0-11e8-8c39-005056a021ea',
        'name':'tiller-deploy',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7ccf',
        'uid':'0dc9161d-8085-11e8-8c39-005056a021ea',
        'name':'hcmk145-hcm-allinone-weave-scope',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cd0',
        'uid':'8dd59778-7ba1-11e8-8c39-005056a021ea',
        'name':'elasticsearch-data',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cd1',
        'uid':'a5d7ff61-7ba0-11e8-8c39-005056a021ea',
        'name':'mariadb',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cd2',
        'uid':'72cec4a9-7ba1-11e8-8c39-005056a021ea',
        'name':'metering-server',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cd3',
        'uid':'dbbd7045-7bbc-11e8-8c39-005056a021ea',
        'name':'hcmk230-topology',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cd4',
        'uid':'71b44c37-7ba1-11e8-8c39-005056a021ea',
        'name':'helm-repo',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cd5',
        'uid':'d4718780-7ba0-11e8-8c39-005056a021ea',
        'name':'iam-pap',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cd6',
        'uid':'a7ee8830-7ba0-11e8-8c39-005056a021ea',
        'name':'default-backend',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cd7',
        'uid':'139db214-7ba0-11e8-8c39-005056a021ea',
        'name':'image-manager',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cd8',
        'uid':'8f21083a-7ba1-11e8-8c39-005056a021ea',
        'name':'catalog-ui',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cd9',
        'uid':'a8f936c8-7ba0-11e8-8c39-005056a021ea',
        'name':'metrics-server',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cda',
        'uid':'72d01311-7ba1-11e8-8c39-005056a021ea',
        'name':'metering-ui',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cdb',
        'uid':'8a749004-7ba1-11e8-8c39-005056a021ea',
        'name':'monitoring-grafana',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'kube-system',
        'topology':'services',
        '__typename':'Resource'
      },
      {
        'id':'5b61ba3b25f660891cbb7cdc',
        'uid':'86b97b73-8455-11e8-8c39-005056a021ea',
        'name':'undercooked-dragonfly-hcm-demoaccessories-templatedb',
        'cluster':'5b57cbb101ce3f001b7018f0',
        'type':'service',
        'namespace':'default',
        'topology':'services',
        '__typename':'Resource'
      }
    ],
    'links':[
      {
        'source':'8dde654c-7ba1-11e8-8c39-005056a021ea',
        'target':'8dd8f33c-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8dde654c-7ba1-11e8-8c39-005056a021ea8dd8f33c-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'8dde654c-7ba1-11e8-8c39-005056a021ea',
        'target':'8ddb8fd0-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8dde654c-7ba1-11e8-8c39-005056a021ea8ddb8fd0-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'d391d505-7ba0-11e8-8c39-005056a021ea',
        'target':'9d65838e-7ba0-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'d391d505-7ba0-11e8-8c39-005056a021ea9d65838e-7ba0-11e8-8c39-005056a021ea'
      },
      {
        'source':'d391d505-7ba0-11e8-8c39-005056a021ea',
        'target':'9d6705ec-7ba0-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'d391d505-7ba0-11e8-8c39-005056a021ea9d6705ec-7ba0-11e8-8c39-005056a021ea'
      },
      {
        'source':'8dd6d87d-7ba1-11e8-8c39-005056a021ea',
        'target':'8dd59778-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8dd6d87d-7ba1-11e8-8c39-005056a021ea8dd59778-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'8dd6d87d-7ba1-11e8-8c39-005056a021ea',
        'target':'8dd8f33c-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8dd6d87d-7ba1-11e8-8c39-005056a021ea8dd8f33c-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'8dd6d87d-7ba1-11e8-8c39-005056a021ea',
        'target':'8ddb8fd0-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8dd6d87d-7ba1-11e8-8c39-005056a021ea8ddb8fd0-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'d29e3044-7ba0-11e8-8c39-005056a021ea',
        'target':'9d65838e-7ba0-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'d29e3044-7ba0-11e8-8c39-005056a021ea9d65838e-7ba0-11e8-8c39-005056a021ea'
      },
      {
        'source':'d29e3044-7ba0-11e8-8c39-005056a021ea',
        'target':'9d6705ec-7ba0-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'d29e3044-7ba0-11e8-8c39-005056a021ea9d6705ec-7ba0-11e8-8c39-005056a021ea'
      },
      {
        'source':'8a71f97b-7ba1-11e8-8c39-005056a021ea',
        'target':'8dd8f33c-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8a71f97b-7ba1-11e8-8c39-005056a021ea8dd8f33c-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'8a71f97b-7ba1-11e8-8c39-005056a021ea',
        'target':'8ddb8fd0-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8a71f97b-7ba1-11e8-8c39-005056a021ea8ddb8fd0-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'d29ab568-7ba0-11e8-8c39-005056a021ea',
        'target':'9d65838e-7ba0-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'d29ab568-7ba0-11e8-8c39-005056a021ea9d65838e-7ba0-11e8-8c39-005056a021ea'
      },
      {
        'source':'d29ab568-7ba0-11e8-8c39-005056a021ea',
        'target':'9d6705ec-7ba0-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'d29ab568-7ba0-11e8-8c39-005056a021ea9d6705ec-7ba0-11e8-8c39-005056a021ea'
      },
      {
        'source':'72ccc214-7ba1-11e8-8c39-005056a021ea',
        'target':'9d65838e-7ba0-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'72ccc214-7ba1-11e8-8c39-005056a021ea9d65838e-7ba0-11e8-8c39-005056a021ea'
      },
      {
        'source':'72ccc214-7ba1-11e8-8c39-005056a021ea',
        'target':'9d6705ec-7ba0-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'72ccc214-7ba1-11e8-8c39-005056a021ea9d6705ec-7ba0-11e8-8c39-005056a021ea'
      },
      {
        'source':'8dd8f33c-7ba1-11e8-8c39-005056a021ea',
        'target':'8dd59778-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8dd8f33c-7ba1-11e8-8c39-005056a021ea8dd59778-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'8dd8f33c-7ba1-11e8-8c39-005056a021ea',
        'target':'8dd6d87d-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8dd8f33c-7ba1-11e8-8c39-005056a021ea8dd6d87d-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'903c9cf6-7ba1-11e8-8c39-005056a021ea',
        'target':'9d65838e-7ba0-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'903c9cf6-7ba1-11e8-8c39-005056a021ea9d65838e-7ba0-11e8-8c39-005056a021ea'
      },
      {
        'source':'903c9cf6-7ba1-11e8-8c39-005056a021ea',
        'target':'9d6705ec-7ba0-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'903c9cf6-7ba1-11e8-8c39-005056a021ea9d6705ec-7ba0-11e8-8c39-005056a021ea'
      },
      {
        'source':'d53c26fa-7ba0-11e8-8c39-005056a021ea',
        'target':'9d65838e-7ba0-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'d53c26fa-7ba0-11e8-8c39-005056a021ea9d65838e-7ba0-11e8-8c39-005056a021ea'
      },
      {
        'source':'d53c26fa-7ba0-11e8-8c39-005056a021ea',
        'target':'9d6705ec-7ba0-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'d53c26fa-7ba0-11e8-8c39-005056a021ea9d6705ec-7ba0-11e8-8c39-005056a021ea'
      },
      {
        'source':'8a793a69-7ba1-11e8-8c39-005056a021ea',
        'target':'72ccc214-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8a793a69-7ba1-11e8-8c39-005056a021ea72ccc214-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'8a793a69-7ba1-11e8-8c39-005056a021ea',
        'target':'8a6f5178-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8a793a69-7ba1-11e8-8c39-005056a021ea8a6f5178-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'8a793a69-7ba1-11e8-8c39-005056a021ea',
        'target':'8a71f97b-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8a793a69-7ba1-11e8-8c39-005056a021ea8a71f97b-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'8a793a69-7ba1-11e8-8c39-005056a021ea',
        'target':'8a763535-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8a793a69-7ba1-11e8-8c39-005056a021ea8a763535-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'8a793a69-7ba1-11e8-8c39-005056a021ea',
        'target':'8a77e390-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8a793a69-7ba1-11e8-8c39-005056a021ea8a77e390-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'d29c6145-7ba0-11e8-8c39-005056a021ea',
        'target':'9d65838e-7ba0-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'d29c6145-7ba0-11e8-8c39-005056a021ea9d65838e-7ba0-11e8-8c39-005056a021ea'
      },
      {
        'source':'d29c6145-7ba0-11e8-8c39-005056a021ea',
        'target':'9d6705ec-7ba0-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'d29c6145-7ba0-11e8-8c39-005056a021ea9d6705ec-7ba0-11e8-8c39-005056a021ea'
      },
      {
        'source':'8ddb8fd0-7ba1-11e8-8c39-005056a021ea',
        'target':'8dd59778-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8ddb8fd0-7ba1-11e8-8c39-005056a021ea8dd59778-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'8ddb8fd0-7ba1-11e8-8c39-005056a021ea',
        'target':'8dd6d87d-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8ddb8fd0-7ba1-11e8-8c39-005056a021ea8dd6d87d-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'8dd59778-7ba1-11e8-8c39-005056a021ea',
        'target':'8dd6d87d-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8dd59778-7ba1-11e8-8c39-005056a021ea8dd6d87d-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'8dd59778-7ba1-11e8-8c39-005056a021ea',
        'target':'8dd8f33c-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8dd59778-7ba1-11e8-8c39-005056a021ea8dd8f33c-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'8dd59778-7ba1-11e8-8c39-005056a021ea',
        'target':'8ddb8fd0-7ba1-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'8dd59778-7ba1-11e8-8c39-005056a021ea8ddb8fd0-7ba1-11e8-8c39-005056a021ea'
      },
      {
        'source':'72cec4a9-7ba1-11e8-8c39-005056a021ea',
        'target':'9d65838e-7ba0-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'72cec4a9-7ba1-11e8-8c39-005056a021ea9d65838e-7ba0-11e8-8c39-005056a021ea'
      },
      {
        'source':'72cec4a9-7ba1-11e8-8c39-005056a021ea',
        'target':'9d6705ec-7ba0-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'72cec4a9-7ba1-11e8-8c39-005056a021ea9d6705ec-7ba0-11e8-8c39-005056a021ea'
      },
      {
        'source':'72d01311-7ba1-11e8-8c39-005056a021ea',
        'target':'9d65838e-7ba0-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'72d01311-7ba1-11e8-8c39-005056a021ea9d65838e-7ba0-11e8-8c39-005056a021ea'
      },
      {
        'source':'72d01311-7ba1-11e8-8c39-005056a021ea',
        'target':'9d6705ec-7ba0-11e8-8c39-005056a021ea',
        'label':'calls',
        'type':'calls',
        'uid':'72d01311-7ba1-11e8-8c39-005056a021ea9d6705ec-7ba0-11e8-8c39-005056a021ea'
      }
    ],
    'status':'DONE'
  }
  const {clusters, links, nodes, status } = mockData

  return {
    clusters,
    links,
    nodes,
    selectedNodeId,
    status,
  }
}

const mapDispatchToProps = dispatch => {
  return {
    onSelectedNodeChange: (nodeId) => dispatch(updateTopologySelection(nodeId)),
  }
}

export default withRouter(connect(mapStateToProps, mapDispatchToProps)(ApplicationTopologyDetails))
